<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors Game 3</title>
        <!-- Google Font -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet">
        <!-- External CSS -->
        <link rel="stylesheet" href="rps-styles.css" />
    </head>
    <body>
        <!-- Page Heading -->
        <div class="mainh">
            <h1 class="mainh1">Rock, Paper, Scissors Game</h1>
            <h3 class="mainh3">By Maroof H.</h3>
        </div>

        <!-- Game Buttons -->
        <div class="mainb">
            <!-- Rock Button -->
            <button onclick="
                var ReturnComputer = CalculateComputerMove(); 
                var theresult = '';
                var player = 'Rock';
                var resultColor = '';

                if (ReturnComputer === player) {
                    theresult = 'Tie';
                    sc.ties++;
                    resultColor = 'yellow';
                } else if (ReturnComputer === 'Paper') {
                    theresult = 'You lose.';
                    sc.losses++;
                    resultColor = 'red';
                } else {
                    theresult = 'You Win.';
                    sc.wins++;
                    resultColor = 'lime';
                }

                localStorage.setItem('sc', JSON.stringify(sc));
                displayScore();
                const resultP = document.querySelector('.result-p');
                resultP.textContent = `Computer chose ${ReturnComputer}. Hence ${theresult}`;
                resultP.style.color = resultColor;
            ">Rock 🪨</button>

            <!-- Paper Button -->
            <button onclick="
                var ReturnComputer = CalculateComputerMove();
                var theresult = '';
                var player = 'Paper';
                var resultColor = '';

                if (ReturnComputer === player) {
                    theresult = 'Tie';
                    sc.ties++;
                    resultColor = 'yellow';
                } else if (ReturnComputer === 'Scissor') {
                    theresult = 'You lose.';
                    sc.losses++;
                    resultColor = 'red';
                } else {
                    theresult = 'You Win.';
                    sc.wins++;
                    resultColor = 'lime';
                }

                localStorage.setItem('sc', JSON.stringify(sc));
                displayScore();
                const resultP = document.querySelector('.result-p');
                resultP.textContent = `Computer chose ${ReturnComputer}. Hence ${theresult}`;
                resultP.style.color = resultColor;
            ">Paper 📄</button>

            <!-- Scissors Button -->
            <button onclick="
                var ReturnComputer = CalculateComputerMove();
                var theresult = '';
                var player = 'Scissor';
                var resultColor = '';

                if (ReturnComputer === player) {
                    theresult = 'Tie';
                    sc.ties++;
                    resultColor = 'yellow';
                } else if (ReturnComputer === 'Rock') {
                    theresult = 'You lose.';
                    sc.losses++;
                    resultColor = 'red';
                } else {
                    theresult = 'You Win.';
                    sc.wins++;
                    resultColor = 'lime';
                }

                localStorage.setItem('sc', JSON.stringify(sc));
                displayScore();
                const resultP = document.querySelector('.result-p');
                resultP.textContent = `Computer chose ${ReturnComputer}. Hence ${theresult}`;
                resultP.style.color = resultColor;
            ">Scissors ✂️</button>
        </div>

        <!-- Score and Reset Section -->
        <div class="mainb2">
            <p class="result-p"></p>
            <p class="scores-p"></p>
            
            <!-- Reset Scores Button -->
            <button class="resetb" onclick="
                sc = {wins: 0, losses: 0, ties: 0};
                localStorage.setItem('sc', JSON.stringify(sc));
                displayScore();
                const resultP = document.querySelector('.result-p');
                resultP.textContent = `Reset Scores ✅`;
                resultP.style.color = 'white';
            ">Reset Score</button>
        </div>

        <p class="connectwith">Connect with me on <a href="https://www.linkedin.com/in/maroof-hassan-b13915315/" target="_blank">LinkedIn</a></p>

        <script>
            let sc = JSON.parse(localStorage.getItem('sc')) || {
                wins: 0,
                losses: 0,
                ties: 0
            };

            function CalculateComputerMove() {
                let randnum = Math.random();
                if (randnum < 1/3) {
                    return 'Rock';
                } else if (randnum < 2/3) {
                    return 'Paper';
                } else {
                    return 'Scissor';
                }
            }

            function displayScore() {
                document.querySelector('.scores-p').textContent = 
                `Wins: ${sc.wins}, Losses: ${sc.losses}, Ties: ${sc.ties}`;
            }

            displayScore();
        </script>
    </body>
</html>
